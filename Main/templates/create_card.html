{% extends 'Main/base.html' %}
{% load static %}

{% block extra_style %}<script src="https://js.stripe.com/v3/"></script>{% endblock %}
{% block header-title %}支払い設定{% endblock %}

{% block content %}
    <!-- inputタグでclient_secretを渡す→JavaScriptで値（value）を取得する -->
    <input type="hidden" id="client_secret" value="{{ client_secret }}">

    <!--フォームが読み込まれたら、Payment Elementのインスタンスを作成して、それをコンテナーのDOMノードにマウントする-->
    <form id="payment-form">
        {% csrf_token %}
        <div id="payment-element">
        <!-- クレジットカード入力フォームが挿入される部分 -->
        </div>
        <div id="error-message">
        <!-- エラーが起こった場合のメッセージ -->
        </div>
        <button id="submit">更新する</button>
    </form>
    
    <script src="{% static 'js/stripe.js' %}"></script>
{% endblock %}
